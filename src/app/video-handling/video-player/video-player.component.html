<div class="container mx-auto px-4 py-8 h-screen overflow-hidden">
  <!-- <div class="absolute inset-0 z-0 pointer-events-none">
    <div class="floating-shape bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400"></div>
    <div class="floating-shape bg-gradient-to-r from-yellow-300 via-red-300 to-pink-300"></div>
    <div class="floating-shape bg-gradient-to-r from-green-400 via-blue-400 to-purple-400"></div>
    <div class="floating-shape bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400"></div>
    <div class="floating-shape bg-gradient-to-r from-red-400 via-yellow-400 to-orange-400"></div>
  </div> -->
  <!-- Input Section -->
  <div *ngIf="!videosLoaded" class="flex flex-col items-center space-y-6 mb-8">
    <!-- Mood Selection -->
    <div class="text-center">
      <h2 class="text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400">
        Select Your Mood
        {{st}}
      </h2>
      <div class="flex flex-wrap justify-center gap-4">
        <button
          *ngFor="let mood of moodsList"
          (click)="selectMood(mood)"
          [class.bg-gradient-to-r]="selectedMoods.includes(mood)"
          [class.from-purple-500]="selectedMoods.includes(mood)"
          [class.to-blue-500]="selectedMoods.includes(mood)"
          [class.text-white]="selectedMoods.includes(mood)"
          class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gradient-to-r hover:from-purple-500 hover:to-blue-500 hover:text-white transition duration-300 ease-in-out shadow-md"
        >
          {{ mood }}
        </button>
      </div>
    </div>

    <!-- Tag Selection -->
    <div class="text-center">
      <h2 class="text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400">
        Select Tags
      </h2>
      <div class="flex flex-wrap justify-center gap-4">
        <button
          *ngFor="let tag of tagsList"
          (click)="selectTag(tag)"
          [class.bg-gradient-to-r]="selectedTags.includes(tag)"
          [class.from-pink-500]="selectedTags.includes(tag)"
          [class.to-blue-500]="selectedTags.includes(tag)"
          [class.text-white]="selectedTags.includes(tag)"
          class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gradient-to-r hover:from-pink-500 hover:to-blue-500 hover:text-white transition duration-300 ease-in-out shadow-md"
        >
          {{ tag }}
        </button>
      </div>
    </div>

    <!-- Load Videos Button -->
    <button
      (click)="loadVideos(selectedTags, selectedMoods)"
      class="px-6 py-3 rounded-lg bg-gradient-to-r from-purple-500 to-blue-400 text-white font-semibold shadow-lg hover:from-purple-600 hover:to-blue-500 transition duration-300 ease-in-out"
    >
      Load Videos
    </button>
  </div>

  <!-- Video Section -->
  <div
  *ngIf="videosLoaded && !showFeedback"
  class="h-full overflow-y-auto snap-y snap-mandatory"
  (scroll)="onScroll($event)"
>
  <div
    *ngFor="let videoUrl of videos; let i = index"
    class="h-screen flex justify-center items-center snap-center overflow-hidden"
  >
    <video
      #videoElement
      [src]="videoUrl"
      class="max-h-full max-w-full"
      muted
      controls
      (ended)="onAllVideoEnded(i)"
    ></video>
  </div>
</div>

<!-- Feedback Section -->
<div
  *ngIf="showFeedback"
  class="feedback-section fixed top-0 left-0 w-full h-full bg-black bg-opacity-60 flex flex-col items-center justify-center p-4 space-y-6"
>
  <div class="bg-white  p-6 max-w-sm w-full text-center">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Did this video improve your mood?</h2>
    <p class="text-gray-600 mb-6">{{ currentVideoFeedbackMessage }}</p>
    <div class="flex justify-around">
      <button
        (click)="fetchMoreVideos()"
        class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gradient-to-r hover:from-pink-500 hover:to-blue-500 hover:text-white transition duration-300 ease-in-out shadow-md"
      >
        Yes, continue
      </button>
      <button
        (click)="resetSelection()"
          class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gradient-to-r hover:from-pink-500 hover:to-blue-500 hover:text-white transition duration-300 ease-in-out shadow-md"
      >
        Try a different mood
      </button>
    </div>
  </div>
</div>

<!-- <div class="input-container">
    <input type="text" placeholder="Enter Tags (comma-separated)" [(ngModel)]="tags">
    <input type="text" placeholder="Enter Moods (comma-separated)" [(ngModel)]="moods">
    <button (click)="loadVideos(tags, moods)">Load Videos</button>
  </div>

  <div class="video-list" (scroll)="handleScroll($event)">
    <div *ngFor="let videoUrl of videos; let i = index" class="video-container">
      <video controls [src]="videoUrl" class="video-player"></video>
    </div>
  </div> -->

  <!-- <video width="400" controls>
    <source src="https://kookurvideostorage.s3.ap-south-1.amazonaws.com/hey123" type="video/mp4">
    Your browser does not support the video tag.
</video> -->